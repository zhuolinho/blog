window.__require=function t(e,i,o){function n(s,c){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){return n(e[s][1][t]||t)},d,d.exports,t,e,i,o)}return i[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)n(o[s]);return n}({Bird:[function(t,e,i){"use strict";cc._RF.push(e,"273baYj5nZF96xONv7M6SF5","Bird"),cc.Class({extends:cc.Component,properties:{moveSpeed:1.2,animation:"am_penican",birdAudio:{default:null,type:cc.AudioClip}},onLoad:function(){this.moveAction=this.setMoveAction(),this.node.runAction(this.moveAction),this.moving=!0;var t=this.getComponent(cc.Animation).play(this.animation);t.speed=.25,t.repeatCount=1/0,cc.audioEngine.playEffect(this.birdAudio,!1)},setMoveAction:function(){return cc.moveBy(cc.winSize.width/this.moveSpeed/150,cc.v2(2*-this.node.position.x,0))},onCollisionEnter:function(t,e){this.game.gameOver()},update:function(t){this.moveAction.isDone()&&this.moving&&(this.moving=!1,this.game.birdStoped(this),this.node.destroy())}}),cc._RF.pop()},{}],HeroControl:[function(t,e,i){"use strict";cc._RF.push(e,"339d2dg1QpEKKxBJBzHiDJ0","HeroControl"),cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),maxSpeed:cc.v2(2e3,2e3),gravity:-1e3,drag:1e3,direction:0,jumpSpeed:300,scoreLabel:{default:null,type:cc.Label},stop1Sprite:{default:null,type:cc.Sprite},stop2Sprite:{default:null,type:cc.Sprite},jumpAudio:{default:null,type:cc.AudioClip}},onLoad:function(){var t=cc.Canvas.instance.node;t.on("touchstart",this.onTouchStart,this),t.on("touchend",this.onTouchEnd,this),this.collisionX=0,this.collisionY=0,this.prePosition=cc.v2(),this.preStep=cc.v2(),this.touchingNumber=0,this.playIdleAnimation(),this.neverJump=!0},onEnable:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1},onDisable:function(){cc.director.getCollisionManager().enabled=!1,cc.director.getCollisionManager().enabledDebugDraw=!1},playIdleAnimation:function(){var t=this.getComponent(cc.Animation).play("am_fish_stay");t.speed=.3,t.repeatCount=1/0},onTouchStart:function(t){if(!this.jumping&&!this.gameover){this.jumping=!0,this.speed.y=this.jumpSpeed,this.neverJump=!1;var e=this.getComponent(cc.Animation).play("am_fish_jump");e.speed=.4,e.onStop=this.playIdleAnimation.bind(this),cc.audioEngine.playEffect(this.jumpAudio,!1)}},onTouchEnd:function(t){this.direction=0,this.game.gameOn||this.gameover||(this.game.gameOn=!0,this.game.addBlock(),this.game.startTimer())},onCollisionEnter:function(t,e){this.touchingNumber++;var i=t.world.aabb,o=t.world.preAabb.clone(),n=e.world.aabb,a=e.world.preAabb.clone();if(a.x=n.x,o.x=i.x,cc.Intersection.rectRect(a,o))return this.speed.x<0&&a.xMax>o.xMax?(this.node.x=o.xMax-this.node.parent.x,this.collisionX=-1):this.speed.x>0&&a.xMin<o.xMin&&(this.node.x=o.xMin-a.width-this.node.parent.x,this.collisionX=1),this.speed.x=0,void(t.touchingX=!0);(a.y=n.y,o.y=i.y,cc.Intersection.rectRect(a,o))&&(this.speed.y<0&&a.yMax>o.yMax?(this.node.y=o.yMax-this.node.parent.y,this.jumping=!1,this.collisionY=-1):this.speed.y>0&&a.yMin<o.yMin&&(this.node.y=o.yMin-a.height-this.node.parent.y,this.collisionY=1),this.speed.y=0,t.touchingY=!0,Math.random()>.5?this.stop1Sprite.getComponent(cc.Animation).play("ae_stop1").speed=.8:this.stop2Sprite.getComponent(cc.Animation).play("ae_stop2").speed=.6)},onCollisionStay:function(t,e){if(-1===this.collisionY&&"Platform"===t.node.group)t.node.getComponent("PlatformMotion")},onCollisionExit:function(t){this.touchingNumber--,0===this.touchingNumber&&(this.node.color=cc.Color.WHITE),t.touchingX?(this.collisionX=0,t.touchingX=!1):t.touchingY&&(t.touchingY=!1,this.collisionY=0,this.jumping=!0)},update:function(t){this.node.y<15&&this.neverJump?(this.speed.y=0,this.node.y=3):0===this.collisionY&&(this.speed.y+=this.gravity*t,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=this.speed.y>0?this.maxSpeed.y:-this.maxSpeed.y)),0===this.direction?this.speed.x>0?(this.speed.x-=this.drag*t,this.speed.x<=0&&(this.speed.x=0)):this.speed.x<0&&(this.speed.x+=this.drag*t,this.speed.x>=0&&(this.speed.x=0)):(this.speed.x+=(this.direction>0?1:-1)*this.drag*t,Math.abs(this.speed.x)>this.maxSpeed.x&&(this.speed.x=this.speed.x>0?this.maxSpeed.x:-this.maxSpeed.x)),this.speed.x*this.collisionX>0&&(this.speed.x=0),this.prePosition.x=this.node.x,this.prePosition.y=this.node.y,this.preStep.x=this.speed.x*t,this.preStep.y=this.speed.y*t,this.node.x+=this.speed.x*t,this.node.y+=this.speed.y*t,this.scoreLabel.node.y=this.node.y+100,this.stop1Sprite.node.y=this.node.y+45,this.stop2Sprite.node.y=this.node.y+25}}),cc._RF.pop()},{}],PlatformMotion:[function(t,e,i){"use strict";cc._RF.push(e,"0f761EZmKhNLKJpUXTrb4fF","PlatformMotion"),cc.Class({extends:cc.Component,properties:{moveSpeed:0,type:0,blackcat:{default:null,type:cc.SpriteFrame},licat:{default:null,type:cc.SpriteFrame},nainiucat:{default:null,type:cc.SpriteFrame},sanhuacat:{default:null,type:cc.SpriteFrame},oracat:{default:null,type:cc.SpriteFrame},eatSprite:{default:null,type:cc.Sprite},cat1Audio:{default:null,type:cc.AudioClip},cat2Audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.moveAction=this.setMoveAction(),this.node.runAction(this.moveAction),this.moving=!0;var t=this.node.getComponent(cc.Sprite);switch(this.type){case 4:t.spriteFrame=this.blackcat;break;case 3:t.spriteFrame=this.licat;break;case 2:t.spriteFrame=this.nainiucat;break;case 1:t.spriteFrame=this.sanhuacat;break;default:t.spriteFrame=this.oracat}Math.random()<.5?cc.audioEngine.playEffect(this.cat1Audio,!1):cc.audioEngine.playEffect(this.cat2Audio,!1)},setMoveAction:function(){return cc.moveBy(cc.winSize.width/this.moveSpeed/300,cc.v2(-this.node.position.x,0))},onCollisionStay:function(t,e){if(e.touchingX&&this.moving){var i=this.eatSprite.getComponent(cc.Animation),o=void 0;switch(this.type){case 4:o="am_fish_blackate";break;case 3:o="am_fish_limaoate";break;case 2:o="am_fish_nainiuate";break;case 1:o="am_fish_sanhuaate";break;default:o="am_fish_jucatate"}i.play(o).speed=1,this.game.gameOver()}e.touchingY&&this.moving&&this.stopBlock()},update:function(t){this.moveAction.isDone()&&this.moving&&this.stopBlock()},stopBlock:function(){this.node.stopAllActions(),this.moving=!1,this.game.blockStoped(this);var t=this.getComponent(cc.Animation),e=void 0;switch(this.type){case 4:e="am_blackcat";break;case 3:e="am_licat";break;case 2:e="am_nainiucat";break;case 1:e="am_sanhuacat";break;default:e="am_oracat"}t.play(e).speed=.3}}),cc._RF.pop()},{}],Wall:[function(t,e,i){"use strict";cc._RF.push(e,"1a279oXNoxFFI516fswAbVo","Wall");var o=cc.Enum({Left:0,Right:1,Top:2,Bottom:3});cc.Class({extends:cc.Component,properties:{type:{default:o.Left,type:o},width:5},start:function(){var t=this.getComponent(cc.BoxCollider);if(t){var e=this.node,i=this.type,n=cc.winSize.width,a=cc.winSize.height,s=this.width;i===o.Left?(e.height=a,e.width=s,e.x=0,e.y=a/2):i===o.Right?(e.height=a,e.width=s,e.x=n,e.y=a/2):i===o.Top?(e.width=n,e.height=s,e.x=n/2,e.y=a):i===o.Bottom&&(e.width=n,e.height=s,e.x=0,e.y=0),t.size=e.getContentSize()}}}),cc._RF.pop()},{}],blockSpeed:[function(t,e,i){"use strict";cc._RF.push(e,"97bd2VtYjxOXpAlxWMb4ASm","blockSpeed"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){var e={};switch(!0){case t>=330:var i=Math.floor((t-330)/30);e={no:22+i,min:2.5+.1*i,max:2.7+.1*i};break;case t>=305:e={no:21,min:2.4,max:2.6};break;case t>=280:e={no:20,min:2.3,max:2.5};break;case t>=255:e={no:19,min:2.2,max:2.4};break;case t>=230:e={no:18,min:2.1,max:2.3};break;case t>=205:e={no:17,min:2,max:2.2};break;case t>=185:e={no:16,min:1.9,max:2.1};break;case t>=165:e={no:15,min:1.8,max:2};break;case t>=150:e={no:14,min:1.7,max:1.9};break;case t>=135:e={no:13,min:1.6,max:1.8};break;case t>=120:e={no:12,min:1.5,max:1.7};break;case t>=100:e={no:11,min:1.4,max:1.6};break;case t>=80:e={no:10,min:1.3,max:1.5};break;case t>=70:e={no:9,min:1.2,max:1.4};break;case t>=60:e={no:8,min:1.1,max:1.3};break;case t>=50:e={no:7,min:.9,max:1.1};break;case t>=40:e={no:6,min:.8,max:1};break;case t>=30:e={no:5,min:.7,max:.9};break;case t>=20:e={no:4,min:.6,max:.8};break;case t>=12:e={no:3,min:.5,max:.8};break;case t>=5:e={no:2,min:.4,max:.5};break;default:e={no:1,min:.3,max:.4}}return e},e.exports=i.default,cc._RF.pop()},{}],follow:[function(t,e,i){"use strict";cc._RF.push(e,"d96400vNFFPIpzg48kPuXVc","follow");var o=function(t){return t&&t.__esModule?t:{default:t}}(t("./blockSpeed"));cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},blockPrefab:{default:null,type:cc.Prefab},birdPrefab:{default:null,type:cc.Prefab},seagullPrefab:{default:null,type:cc.Prefab},scoreDisplay:{default:null,type:cc.Label},scoreLabel:{default:null,type:cc.Label},gameoverSprite:{default:null,type:cc.Sprite},hp:1,bgAudio:{default:null,type:cc.AudioClip},doubleAudio:{default:null,type:cc.AudioClip},highAudio:{default:null,type:cc.AudioClip},gameoverAudio:{default:null,type:cc.AudioClip},idleAudio:{default:null,type:cc.AudioClip}},onLoad:function(){if(this.level=0,this.gameOn=!1,this.score=0,this.target){var t=cc.follow(this.target,cc.rect(-500,-10,1e3,1/0));this.node.runAction(t),this.target.getComponent("HeroControl").game=this,this.timer=1,cc.audioEngine.playMusic(this.bgAudio,!0)}},startTimer:function(){this.schedule(function(){this.timer++,this.timer%10==0&&cc.audioEngine.playEffect(this.idleAudio,!1)},1)},addBlock:function(){var t=cc.instantiate(this.blockPrefab),e=Math.random()<.5?-1:1,i=t.getComponent("PlatformMotion");t.setPosition(this.getNewStarPosition(e,!0)),i.type=Math.floor(Math.random()/.2),i.game=this;var n=(0,o.default)(this.timer),a=n.min,s=n.max;i.moveSpeed=Math.random()*(s-a)+a,t.scaleX=e,this.lastBlock=t,this.node.addChild(t)},addBird:function(t){var e=cc.instantiate(t),i=Math.random()<.5?-1:1;e.setPosition(this.getNewStarPosition(i,!1)),e.getComponent("Bird").game=this,e.scaleX=i,this.node.addChild(e)},getNewStarPosition:function(t,e){var i=this.blockPrefab.data.width,o=(cc.winSize.width+i)*t/2,n=20+40*this.level+2.5;return e&&this.level++,cc.v2(o,n)},blockStoped:function(t){this.gameOn&&(Math.abs(this.lastX-t.node.x)<1?(this.addScore(2),cc.audioEngine.playEffect(this.doubleAudio,!1)):this.addScore(1),this.lastX=t.node.x,this.addComponent())},birdStoped:function(t){this.gameOn&&(this.addScore(3),this.addComponent())},addScore:function(t){var e=this;this.score+=t,this.score%100==0&&cc.audioEngine.playEffect(this.highAudio,!1),this.scoreLabel.string="+"+t,setTimeout(function(){e.scoreLabel.string=""},700),this.scoreDisplay.string=this.score},addComponent:function(){var t=0,e=0;switch(!0){case this.timer>=70:t=.5;case this.timer>=40:e=.3}var i=Math.random();i>t+e?this.addBlock():i>t?this.addBird(this.seagullPrefab):this.addBird(this.birdPrefab)},gameOver:function(){(this.hp--,this.hp<1&&this.gameOn)&&(cc.audioEngine.playEffect(this.gameoverAudio,!1),this.target.opacity=0,this.gameoverSprite.getComponent(cc.Animation).play("am_fish_ate"),this.gameOn=!1,this.target.getComponent("HeroControl").gameover=!0)}}),cc._RF.pop()},{"./blockSpeed":"blockSpeed"}],randomSpeed:[function(t,e,i){"use strict";cc._RF.push(e,"c54a843p3ZLsKUtUpMQeyce","randomSpeed");cc._RF.pop()},{}]},{},["Bird","HeroControl","blockSpeed","follow","randomSpeed","PlatformMotion","Wall"]);